# This is an example Starter pipeline configuration
# Use a skeleton to build, test and deploy using manual and parallel steps
# -----
# You can specify a custom docker image from Docker Hub as your build environment.

image: atlassian/default-image:3

pipelines:
  branches:
    develop:
      - step:
          name: 'Deployment to Staging'
          deployment: staging
          services:
            - docker
          script:
            - curl https://cli-assets.heroku.com/install.sh | sh
            - cd Backend\ service/AutoGatrorBackend
            - HEROKU_API_KEY=$HEROKU_TOKEN heroku container:login
            - HEROKU_API_KEY=$HEROKU_TOKEN heroku container:push -a autogator-servcie web
            - HEROKU_API_KEY=$HEROKU_TOKEN heroku container:release -a autogator-servcie web 
            - 'curl --header "Content-Type: application/json" --request POST --data '{"content":"xyz"}'  https://discord.com/api/webhooks/1032580085842186240/O8b5Nt08B25d4Qg1Im5MovXTbvK03dwc-Bp3_YandHFiqoWKkXfxc855w1PwcKKsyV4r'

